# ~/.config/rocket-mav/ports.env or /etc/rocket-mav/ports.env
# precedence: process env > user file > system file > code default
#
# Port scheme:
# 14XXX = daemon
# 15XXX = app
# 1X5XX = router output -> app input
# 1X6XX = router input <- app output
# XXX1X = app id
# XXXX1 = function id
#
# App IDs:
# 1 monitoring
# 2 stream_odometry
# 3 stream_commander
# 4 scan/param_fetch
# 5 tools/console/heartbeat_watch
# 6 arm_reason

# scan app (topic + parameter fetch)
ROCKET_MAV_SCAN_LISTEN_IP=127.0.0.1
ROCKET_MAV_SCAN_LISTEN_PORT=15541
ROCKET_MAV_SCAN_TARGET_IP=127.0.0.1
ROCKET_MAV_SCAN_TARGET_PORT=15641
ROCKET_MAV_SCAN_SYSID=200
ROCKET_MAV_SCAN_COMPID=193
ROCKET_MAV_SCAN_TARGET_SYS=1
ROCKET_MAV_SCAN_TARGET_COMP=1

# interactive tools (servo_test, motor_init)
ROCKET_MAV_TOOLS_TARGET_IP=127.0.0.1
ROCKET_MAV_TOOLS_TARGET_PORT=15651
ROCKET_MAV_TOOLS_SYSID=200
ROCKET_MAV_TOOLS_COMPID=190
ROCKET_MAV_TOOLS_TARGET_SYS=1
ROCKET_MAV_TOOLS_TARGET_COMP=1
ROCKET_MAV_TOOLS_LISTEN_PORT=15551
ROCKET_MAV_SERVO_COMPID=190
ROCKET_MAV_MOTOR_COMPID=191
ROCKET_MAV_STREAM_CMD_COMPID=192

# stream_odometry + stream_commander addresses
ROCKET_MAV_STREAM_ODOM_LISTEN_IP=127.0.0.1
ROCKET_MAV_STREAM_ODOM_LISTEN_PORT=14521
ROCKET_MAV_STREAM_ODOM_OUT_IP=127.0.0.1
ROCKET_MAV_STREAM_ODOM_OUT_PORT=14622
ROCKET_MAV_STREAM_ODOM_TEST_LISTEN_IP=127.0.0.1
ROCKET_MAV_STREAM_ODOM_TEST_LISTEN_PORT=14622

ROCKET_MAV_STREAM_CMD_LISTEN_IP=127.0.0.1
ROCKET_MAV_STREAM_CMD_LISTEN_PORT=14531
ROCKET_MAV_STREAM_CMD_TARGET_IP=127.0.0.1
ROCKET_MAV_STREAM_CMD_TARGET_PORT=14631
ROCKET_MAV_STREAM_CMD_OUTPUT_MODE=ACTUATOR
ROCKET_MAV_STREAM_CMD_RC_BASE_CH=1
ROCKET_MAV_STREAM_CMD_RC_CHAN_COUNT=8
ROCKET_MAV_STREAM_CMD_ACT_TEST_FUNC_MAP=301,302,303,304,305,306,307,308
ROCKET_MAV_STREAM_CMD_ACT_TEST_TIMEOUT_SEC=0.25
ROCKET_MAV_STREAM_CMD_TEST_LISTEN_IP=127.0.0.1
ROCKET_MAV_STREAM_CMD_TEST_LISTEN_PORT=14531

# monitoring + utility listeners
ROCKET_MAV_MONITORING_LISTEN_IP=127.0.0.1
ROCKET_MAV_MONITORING_LISTEN_PORT=14511
ROCKET_MAV_MONITORING_OUTPUT_FILE=/tmp/monitoring_last
ROCKET_MAV_HEARTBEAT_WATCH_LISTEN_IP=127.0.0.1
ROCKET_MAV_HEARTBEAT_WATCH_LISTEN_PORT=15552

# diagnostics
ROCKET_MAV_ARM_REASON_LISTEN_IP=127.0.0.1
ROCKET_MAV_ARM_REASON_LISTEN_PORT=15561

# parameter file paths
ROCKET_MAV_PARAMS_TMP_PATH=/tmp/config.params
ROCKET_MAV_PARAMS_PERSIST_PATH=/home/rocket/mavlink_projects/scan/config.params
ROCKET_MAV_MODE_STATE_PATH=/home/rocket/.config/rocket-mav/mode.env

# legacy compatibility keys (optional)
MAV_PARAMS_TMP_PATH=/tmp/config.params
MAV_PARAMS_PERSIST_PATH=/home/rocket/mavlink_projects/scan/config.params
